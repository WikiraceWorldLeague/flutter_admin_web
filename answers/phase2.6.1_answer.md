🔢 Phase 2.6: 예약 시스템 구현 계획 – 최종 선택안
✅ Q1. 구현 우선순위
선택: A) 예약 목록 조회 + 필터링 (기본 CRUD)

이유:

예약 전체 흐름의 시작점은 리스트 조회

이 기능이 있어야 관리자는 현재 상태 파악, 검색, 다음 액션(등록/배정/수정) 가능

폼/배정/상태 관리 등 모든 기능은 목록 조회가 기반

✅ Q2. 예약 목록 테이블 UI 스타일
선택: A) 심플한 데이터 테이블 (가이드 목록과 유사)

이유:

관리자 중심 사용에서는 카드보다는 테이블이 더 빠른 정보 스캔과 정렬/검색에 적합

가이드 목록과 UI/UX 일관성을 유지

캘린더 뷰나 간트 차트는 추후 특정 사용자 요청에 맞춰 추가

✅ Q3. 예약 상태별 색상 구분
선택: C) 현재 beige 테마와 조화되는 색상

이유:

브랜드 스타일과 시각적 통일성 유지

병원 UI 느낌의 파랑/빨강 대신, 고급스럽고 부드러운 색상군으로 상태를 구분

📌 예시:

pending: #C0C0C0 (soft gray)

assigned: #B2C7D9 (warm blue gray)

in_progress: #F3D6A4 (soft amber)

completed: #A7C8A1 (sage green)

cancelled: #E5B5B5 (dusty rose)

✅ Q4. 필터링 옵션 범위
선택: A) 기본: 날짜 범위, 상태, 병원, 가이드

이유:

관리 실무에서 가장 자주 사용하는 필터는 이 네 가지

고객 국적/금액/평점 등은 고도화 이후에 도입 가능

기본 필터만으로도 90% 실무 시나리오 대응 가능

✅ Q5. 예약 등록 폼 구조
선택: B) 스텝 형태

이유:

예약 정보는 입력 항목이 많고, 순차적 흐름이 적합

스텝 방식은 입력 누락을 줄이고, 가이드 등록 폼과도 흐름이 유사

탭/모달은 구조적으로 불안정하며 사용성 떨어짐

📌 스텝 구성 예:

예약 기본정보 (날짜/시간/병원)

고객정보 입력

서비스 항목 선택

확인 및 저장

✅ Q6. 가이드 추천 알고리즘 복잡도
선택: B) 기본 – 언어 + 전문분야 + 가용성 + 거리

이유:

단순 매칭은 실무 정확도가 낮고

거리(예: 강남 병원 vs 인천 거주 가이드)는 실사용자 기준에서 매우 중요

평점/고객 선호도(C)는 추후 리뷰/데이터 쌓인 이후 도입

✅ Q7. 실시간 알림 시스템
선택: A) 당장은 구현하지 않음

이유:

예약 알림은 가이드 앱 또는 이메일 인프라가 준비된 이후 처리

MVP 기준에서는 예약 생성 → 가이드 수동 연락 or 외부 채널(Slack 등) 사용 가능

✅ Q8. 금액/정산 정보 표시
선택: A) 기본 – 총 금액, 가이드 수수료만

이유:

실제 병원 결제액과 수수료율 기반 정산 시스템에 필요한 정보는 이 두 가지

세금/할인/서비스별 금액은 병원 내부 구조와 충돌 우려 → 후속 연동 시 적용

📅 Q9. 날짜/시간 입력 방식
✅ A) 날짜 선택기 + 시간 드롭다운 (30분 단위)

이유:

병원 예약은 보통 정시/반시 기준으로 고정된 슬롯 기반

드롭다운 방식이 빠르고 실수 없는 입력 가능

텍스트 입력은 형식 오류 우려, 캘린더 클릭은 과도한 구현

📌 구성 예시:

📅 DatePicker

🕒 DropdownButton: 09:00, 09:30, 10:00 … 19:30 등

👥 Q10. 고객 정보 관리
✅ A) 동적 추가: [고객 추가] 버튼으로 필드 늘리기

이유:

12명 단위가 대부분이지만 간혹 34명도 있으므로 유연성 필요

UX 관점에서도 필요한 만큼만 필드가 늘어나는 방식이 가장 직관적

테이블이나 팝업 방식은 초기 단계에서는 과함

📌 예시:

[고객 1 입력 필드]

[+ 고객 추가] → 새 필드 슬라이드 추가

🏥 Q11. 병원/클리닉 선택 방식
✅ B) 검색 가능한 드롭다운: 타이핑으로 필터링

이유:

병원이 많을수록 드롭다운 스크롤보다 검색형 필터가 훨씬 빠름

UI는 드롭다운처럼 보이고, 내부적으로 Autocomplete처럼 동작

추천 병원은 상단 고정 등 추가 UX 개선 가능

🔄 Q12. 예약 상태 변경 권한
✅ A) 관리자만: 모든 상태 변경 가능

이유:

현재 운영 체계는 관리자 중심 수동 배정 → 책임/통제의 단일 지점 필요

추후 가이드 앱 도입 시 역할별 상태 변경 분리(B) 가능

자동화나 승인 시스템(C, D)은 아직 이르며 복잡도만 증가

📋 Q13. 예약 목록 기본 정렬
✅ A) 예약 날짜 최신순 (가장 가까운 예약부터)

이유:

관리자는 오늘 또는 내일 예약이 무엇인지 가장 먼저 확인

상태 정렬보다 우선시되며, 과거 예약은 뒤로 가는 것이 직관적

사용자가 “곧 다가올 예약”을 기준으로 업무를 수행하는 방식과 일치

💡 Q14. 가이드 추천 UI
✅ A) 모달 팝업: 추천 가이드 목록을 팝업으로

이유:

현재 페이지 흐름을 유지하면서 추천 가이드 확인 + 선택 가능

사이드 패널(B)이나 별도 페이지(C)는 컨텍스트 전환이 심함

인라인 확장(D)은 예약 리스트에 혼란을 줌 (행 간 중첩 문제)

📌 팝업에는:

추천 가이드 Top 5

언어/전문분야/가용성 정보

[배정] 버튼 → 상태 변경 처리

🎨 Q15. beige 테마 상태 색상
✅ 현재 제안된 색상 유지

상태	HEX	설명
pending	#C0C0C0	soft gray
assigned	#B2C7D9	warm blue gray
in_progress	#F3D6A4	soft amber
completed	#A7C8A1	sage green
cancelled	#E5B5B5	dusty rose

이유:

브랜드 톤(beige/camel)과 완벽하게 조화됨

병원 UI의 차가운 파랑/빨강 느낌 없이 따뜻하고 신뢰감 있는 느낌 유지

✅ Q16. 파일 구조 및 네이밍
선택: A) 가이드와 동일한 구조: lib/features/reservations/ (data/presentation/domain)

이유:

가이드 관리 기능과 동일한 구조로 구성 시 유지보수성과 확장성 ↑

Riverpod 및 Clean Architecture 흐름과도 정합

data(repo, API), domain(model, logic), presentation(UI)이 분리되면 협업/분업도 쉬움

📁 예시:

kotlin
복사
편집
lib/
└ features/
   └ reservations/
      ├ data/
      │  └ reservations_repository.dart
      ├ domain/
      │  └ reservation_model.dart
      └ presentation/
         ├ reservations_list_page.dart
         ├ reservations_form_page.dart
         └ widgets/
✅ Q17. 상태 관리 패턴
선택: A) 동일 패턴 – StateNotifier + Provider

이유:

이미 가이드 폼에서 성공적으로 적용된 구조

목록 조회, 폼 입력, 상태 변경 등 상태 변화가 많기 때문에 단순 Provider는 부족

통일된 패턴은 재사용, 학습, 테스트 용이성 확보

✅ Q18. 데이터 새로고침 전략
선택: C) 스마트 – 데이터 변경 후 자동 새로고침

이유:

사용자는 수정/등록 후 리스트에서 바로 반영되기를 기대

페이지 진입 시마다 자동 새로고침(B)은 네트워크 낭비

수동 새로고침(A)은 UX 불편, 실시간 폴링(D)은 과도함

📌 방식 예시:

ref.invalidate(reservationsProvider) 호출 → 자동 갱신

✅ Q19. 구현 순서
선택: A) 데이터 모델 → 목록 조회 → 필터링 → 등록 폼 → 가이드 배정

이유:

데이터 모델이 먼저 정의되어야 UI/상태/폼 등 모든 컴포넌트의 중심축이 완성됨

그다음: 가장 많이 쓰는 조회 화면부터

그 이후: 입력 폼, 필터, 추천/배정 기능 등 확장

✅ Q20. 첫 번째 구현 목표
선택: A) 예약 목록 조회 + 기본 필터링 (날짜, 상태)

이유:

가장 핵심적인 화면이자, 예약 관리의 출발점

여기에 성공적으로 목록과 필터 연동만 해도, 데이터 구조와 흐름이 모두 안정화됨

