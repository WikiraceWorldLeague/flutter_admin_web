🎯 Phase 2.1 답변
1. 예약 리스트 화면 관련
1-1. 테이블 컬럼 순서

✅ 현재 순서가 적절합니다:
→ 예약번호 → 고객정보 → 가이드 → 날짜 → 상태 → 작업
단, "고객 수"를 별도 칼럼으로 표기해 1예약 다고객 구조를 명확히 하는 것도 권장합니다.
예시:
예약번호 | 고객 이름(1명 외) | 가이드 | 날짜 | 상태 | 작업

1-2. 페이지 당 항목 수

✅ 기본 20개 유지
→ 초기 로딩 속도와 관리자의 집중도를 고려해 적정 수량이며, 추후 옵션에서 '50개 보기' 등 선택 가능하게 해도 충분합니다.

1-3. 추가 필터링 옵션

✅ 아래 필터링 항목 추가 권장:

병원/방문처 필터 (자주 이용하는 병원 기준으로 찾기 쉽도록)

서비스 유형 필터 (성형상담/피부시술 등)

고객 이름 또는 국적 검색 (CS 응대 시 빠른 검색 필요)

2. 예약 생성 폼 관련
2-1. 필수 입력 항목

✅ 아래 항목이 반드시 필요합니다:

예약일 (date)

예약 시작 시간 (startTime)

병원 선택 (clinic_id)

고객 정보 리스트 (1명 이상 필수 입력)

서비스 타입 리스트 (1개 이상 필수 선택)

2-2. 가이드 할당

✅ 초기 생성 시 할당은 선택 사항입니다.
→ 많은 예약은 병원 측 시간과 고객 확정 후 나중에 가이드 배정되는 케이스가 많음
→ 할당 없이 '할당 대기' 상태로 저장 → 이후 배정 탭에서 수정 가능

3. 가이드 할당 로직 관련
3-1. 가이드 리스트 정렬 기준

✅ 아래 우선순위로 표시되길 원합니다:

언어 매칭 우선 표시
→ 고객 국적 기반 예상 언어로 필터링 또는 상단 정렬

전문 분야 매칭 우선 표시
→ 예약 서비스와 일치하는 전문 분야 보유 가이드 상단 배치

가용성 자동 체크
→ 예약 시간과 이미 할당된 시간대 겹치지 않는 가이드만 표시

기본 리스트
→ 위 3요소 만족하지 않는 가이드는 아래에 표시

📌 UI 측면에서는:
추천 가이드 상단 / 기타 가이드 아래로 구분된 리스트가 가장 이상적

4. 상태 변경 플로우 관련
4-1. "진행 중" 상태 자동 전환 여부

✅ 자동 전환은 하지 않습니다.
→ 고객이 병원에 도착했는지, 일정이 변동됐는지 등 변수 많음
→ 수동으로 "진행 중" 상태를 전환하는 것이 안전하며,
예약 시작 시간이 가까워지면 경고 알림 배너만 표시 (ex. "시작 30분 전입니다")

4-2. "완료" 처리 방식

✅ 관리자 수동 버튼으로 완료 처리
→ 완료 전에는 리뷰 요청, 정산 내역 입력 등이 불가하므로 명시적인 완료 처리가 필요

4-3. 취소 가능 상태

✅ 아래 상태에서만 취소 가능:

할당 대기

할당 완료

진행 중 이전까지
※ 완료 후에는 '취소' 불가. 단, "이중 등록/오류로 인한 삭제"는 관리자 수기로 처리

5. 고객 정보 관리 관련
5-1. 예약 생성 후에도 고객 추가/삭제 가능 여부

✅ 예, 예약 생성 후에도 고객 추가/삭제 가능해야 합니다.
→ 친구, 동료 등 방문 직전에 바뀌는 경우가 자주 발생함

5-2. 고객별 개별 메모 필드 필요 여부

✅ 필요합니다.
→ 고객별 민감 요청, 병력, 시술 이력 등 메모 필요
→ customer_note 필드를 고객별로 구성 (예: “과거 켈로이드 반응 있음”)

🔍 추가 확인 사항 답변
1. 예약 시간 입력 방식
Q: 예약 종료 시간은 어떻게 입력받을까요?

✅ 선택: C) 서비스별 기본 소요시간 자동 설정 + 수동 조정 가능

이유:

대부분의 예약은 반복되는 시술 패턴을 따릅니다 (예: 피부과 시술 약 3시간).

따라서 “서비스 타입 선택 → 기본 소요시간 자동 반영” → 단, 수기로 수정 가능하도록 구성.

예:

“피부 시술 동반” → 기본 3시간

“상담만” → 기본 2시간

백엔드 구조:

services 테이블에 default_duration_minutes 컬럼 보유

예약에는 start_time + duration_minutes 저장 → 종료 시간은 계산식으로 처리 가능

2. 가이드 배정 UI 방식
Q: 가이드 할당 시 UI는 어떤 방식을 선호하나요?

✅ 선택: A) 별도 모달창에서 가이드 리스트 보고 선택

이유:

언어, 전문분야, 가용성 등을 함께 보여주는 정보 기반 추천 UI가 필요

드롭다운은 가이드가 많을 경우 사용성 저하

상세보기 페이지에서만 처리할 경우 프로세스가 너무 깊어짐

UI 기능 예:

모달 내 필터링: 언어, 전문분야, 지역, 가용여부

추천 순 정렬

“추천 가이드 상단 → 기타 가이드 하단” 구조

할당 버튼 클릭 시 예약 상태 할당 완료로 변경

3. 대시보드 주요 지표
Q: 메인 대시보드에서 보여줄 핵심 지표는?

✅ 기본 3개 카테고리 중심으로 구성:

📌 A. 예약 상태 지표
오늘 예약 수 / 이번 주 예약 수

진행 중 예약 수

할당 대기 예약 수 (미배정 알림과 연결)

취소된 예약 수

📌 B. 가이드/병원별 현황
가이드별 예약 현황 Top 5 (예약 수, 고객 수, 정산액 등)

병원별 예약 현황 Top 5 (내원 수, 거래액 등)

📌 C. 정산 및 매출 현황
월별 매출

월별 정산금액

누적 영업이익

정산 등급 분포 (브론즈/실버 등 인원 수)

🔹 기타 추가하면 좋은 지표:

평균 예약 소요시간

1인당 평균 결제액

전체 고객 수 대비 리뷰 작성 비율 (만족도 추적용)

4. 알림 시스템
Q: 예약 시작 30분 전 알림 외에 필요한 알림은?

✅ 아래 3종 알림을 함께 도입하면 실무에 매우 유용합니다:

✅ A. 하루 전 리마인더 알림
예약 전날 오전 10시 등 지정 시간에 발송

가이드, 관리자에게 모두 발송

✅ B. 가이드 미배정 예약 알림
예약일이 내일인데 아직 가이드가 할당되지 않은 경우

관리자에게 강조 표시 + 알림 메시지

대시보드 내 미배정 예약 수도 별도 카운트

✅ C. 완료 예약 리뷰 유도 알림 (중장기)
완료 후 3일 이내 리뷰 등록되지 않은 예약에 대해서

고객에게 리뷰 요청 메시지 (앱 연동 후 구현)

